# 基于dtmf发送救援信息(gps坐标)传送的技术方案

项目发起地址：[https://github.com/liangdas/dtmfsos](https://github.com/liangdas/dtmfsos)
  
  在医疗救护领域，抢救病人最关键的因素是能在最短的时间内到达现场。一般情    况下，人们通过拨打120救护专线来取得帮助。但是，这里存在一个关键问题，那就是打120电话以后需要告知具体位置才能前来救援，但往往在事件突发时很难通过口述来告知准确的地址，从而导致延误抢救时间。现如今手机已经非常普及了，而且几乎所有的智能手机都带有GPS模块，可以准确的获取到地理位置信息，因此如果能够通过电话方便的将GPS模块定位的坐标信息传递给120救护专线的话,救护车就可以根据位置快速的赶到救援现场，为救援赢得时间。
  
 # 目前GPS信号传递的几种方式
 
 1. 通过互联网网络将GPS地理位置传递给服务器
 2. 通过短信将gps地理位置传递给被互交方

 以上两种方式都存在问题:
 
  1. 通过网络方式需要互叫方和被叫方都存在网络
  2. 短信方式需要被叫方可以接收短信

我们知道120救护专线通常是通过利用呼叫中心技术来实现的，通常没有与网络和短信通道对接，只有语言描述，因此很难强制要求救护专线对现有方案进行大面具改造。

# DTMF介绍

> 双音多频(DTMF)是由贝尔实验室开发的信令方式，通过承载语音的模拟电话线传送电话拨号信息。每个数字利用两个不同频率突发模式的正弦波编码，选择双音方式是由于它能够可靠地将拨号信息从语音中区分出来。一般情况下，声音信号很难造成对DTMF接收器的错误触发。DTMF是“TouchTone” (早期AT&T的商标)的基础, 替代机械式拨号转盘的按键。

> 在编码时将击键或数字信息转换成双音信号并发送，解码时在收到的DTMF信号中检测击键或数字信息的存在性。一个DTMF信号由两个频率的音频信号叠加构成。这两个音频信号的频率来自两组预分配的频率组：行频组或列频组。每一对这样的音频信号唯一表示一个数字或符号。电话机中通常有16个按键，其中有10个数字键0～9和6个功能键*、#、A、B、C、D。由于按照组合原理，一般应有8种不同的单音频信号。因此可采用的频率也有8种，故称之为多频，又因它采用分别从高低频中任意抽出1种进行组合来进行编码，所以又称之为“8中取2”的编码技术。根据CCITT的建议，国际上采用的多种频率为697Hz、770Hz、852Hz、941Hz、1209Hz、1336Hz、1477Hz和1633Hz等8种。用这8种频率可形成16种不同的组合，从而代表16种不同的数字或功能键，


# 通过DTMF传递GPS地理位置坐标
简单的说DTMF可以从通话音频中提取10个数字键0～9和6个功能键*、#、A、B、C、D。我们知道GPS地理位置是由经度纬度组成的两个数字。

例如:
北京市区坐标为：北纬39.9”，东经116. 3”。
可以表示为  39.0,116.3

如果我们在音频中反复播放以下的DTMF音频

**#39*0#116*3**#

被叫方就可以从音频中分析出以上这段字符串，从而得到完整的地理位置信息

# 实现难度

首先目前智能手机都已至此GPS定位功能。因此只需要手机厂商在通话界面上加上一个SOS呼叫按钮，当用户点击该按钮时按指定编码发送GPS定位坐标即可

被叫方:
被方可以利用专门处理DTMF音频的软件(这种软件很容易开发,普通的手机APP即可实现)从通话音频中分析出这段地理位置信息。

# 总结
利用DTMF传递GPS地理位置信息可以最小的改造现有的公共服务系统而达到高效的救援目的。因此希望能通过指定一个统一的DTMF地理位置编码标准,让手机厂商(第三方通话软件厂商)默认出厂接入这段功能。相信在未来这将是一个非常有用的工具。

# 倡议

希望有兴趣的同学能参与进来一起来推动这件事情。qq:1587790525 请注明来意
